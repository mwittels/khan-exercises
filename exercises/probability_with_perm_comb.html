<!DOCTYPE html>
<html data-require="math math-format word-problems">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Probability with permutations and combinations</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
        <div class="problems">
            <div id="students">
                <div class="vars" data-ensure="GROUP &lt; (ARE_B ? BOYS : GIRLS)">
                    <var id="STUDENTS">randRange(7,12)</var>
                    <var id="GROUP">randRange(3,6)</var>
                    <var id="BOYS">randRange(2,STUDENTS-2)</var>
                    <var id="GIRLS">STUDENTS-BOYS</var>
                    <var id="ARE_B">random() &lt; 0.5</var>
                    <var id="NUM_B">ARE_B ? BOYS : GIRLS</var>
                    <var id="ANSWER">(factorial(NUM_B)*factorial(STUDENTS-GROUP))/(factorial(STUDENTS)*factorial(NUM_B-GROUP))</var>
                    <var id="GCD">getGCD(factorial(NUM_B)*factorial(STUDENTS-GROUP),factorial(STUDENTS)*factorial(NUM_B-GROUP))</var>
                    <var id="PRETTY_NUM">factorial(NUM_B)*factorial(STUDENTS-GROUP)/GCD</var>
                    <var id="PRETTY_DEM">factorial(STUDENTS)*factorial(NUM_B-GROUP)/GCD</var>
                </div>
                <p>
                    There are <var>STUDENTS</var> students in a class: <var>BOYS</var> boys and <var>GIRLS</var> girls.
                </p>
                <p class="question"> 
                    If the teacher picks a group of <var>GROUP</var> at random, what is the probability that 
                    everyone in the group is a <var>ARE_B ? "boy" : "girl"</var>?
                </p>
                <p class="solution" data-forms="proper, decimal"><var>ANSWER</var></p>
                <div class="hints">
                    <p>
                        Since the teacher is choosing randomly, every group has an equal probability of
                        being chosen. How many groups of students are there altogether? How many groups are there
                        that only have <var>ARE_B ? "boys" : "girls"</var>?
                    </p>
                    <p>
                        We know two ways to count the number of groups we can choose: we use permutations if order matters,
                        and combinations if it doesn't. Does the order the students are picked matter in this case?
                    </p>
                    <p>
                        It doesn't matter if we pick James then Velma or Velma then James, so order must not matter. So, the number of ways
                        to pick a group of <var>GROUP</var> students out of <var>STUDENTS</var> is
                        <code> \frac{<var>STUDENTS</var>!}{(<var>STUDENTS</var>-<var>GROUP</var>)!<var>GROUP</var>!} = 
                        \binom{<var>STUDENTS</var>}{<var>GROUP</var>}</code>. Remember that the
                        <code><var>STUDENTS</var>! </code> and <code>(<var>STUDENTS</var>-<var>GROUP</var>)!</code> terms come from when we
                        fill up the group, making <var>STUDENTS</var> choices for the first slot, then <var>STUDENTS-1</var> choices for the
                        second, and so on, and the <code><var>GROUP</var>!</code> term comes from the fact that there are <code><var>GROUP</var>!</code> ways
                        to order a group of <var>GROUP</var>, so we've overcounted each permutation exactly that many times.
                    </p>
                    <p>
                        We can use the same logic to count the number of groups that only have boys.
                    </p>
                    <p>
                        Specifically, the number of ways to pick a group of <var>GROUP</var> students out of <var>NUM_B</var> is
                        <code> \frac{<var>NUM_B</var>!}{(<var>NUM_B</var>-<var>GROUP</var>)!<var>GROUP</var>!} = 
                        \binom{<var>NUM_B</var>}{<var>GROUP</var>}</code>.
                    </p>
                    <p>
                        So, the probability that the teacher picks a group of all <var>ARE_B ? "boys" : "girls"</var> is the number of 
                        groups with only <var>ARE_B ? "boys" : "girls"</var> divided by the number of total groups the teacher could pick.
                    </p>
                    <p>
                        This is <code> \displaystyle \frac{\frac{<var>NUM_B</var>!}{(<var>NUM_B</var>-<var>GROUP</var>)!<var>GROUP</var>!}}
                        {\frac{<var>STUDENTS</var>!}{(<var>STUDENTS</var>-<var>GROUP</var>)!<var>GROUP</var>!}} = 
                        (\frac{<var>NUM_B</var>!}{<var>STUDENTS</var>!})(\frac{<var>STUDENTS-GROUP</var>!}{<var>NUM_B-GROUP</var>!}) = 
                        (\frac{1}{<var>factorial(STUDENTS)/factorial(NUM_B)</var>})(<var>factorial(STUDENTS-GROUP)/factorial(NUM_B-GROUP)</var>) =
                        \frac{<var>PRETTY_NUM</var>}{<var>PRETTY_DEM</var>}</code>
                    </p>
                </div>
            </div>

            <div id="coins">
                <div class="vars">
                    <var id="COINS">randRange(4,7)</var>
                    <var id="NUM">randRange(2,COINS-2)</var>
                    <var id="IS_H">random &lt; 0.5</var>
                    <var id="NAME">IS_H ? "heads" : "tails"</var>
                    <var id="NUM_RIGHT">factorial(COINS)/(factorial(NUM)*factorial(COINS-NUM))</var>
                    <var id="NUM_ALL">Math.pow(2,COINS)</var>
                    <var id="GCD">getGCD(NUM_RIGHT,NUM_ALL)</var>
                    <var id="PRETTY_NUMER">NUM_RIGHT/GCD</var>
                    <var id="PRETTY_DENOM">NUM_ALL/GCD</var>
                </div>

                <p class="question">
                    If you flip a fair coin <var>COINS</var> times, what is the probability that you will get exactly <var>NUM</var> 
                    <var>NAME</var>?
                </p>
                <p class="solution" data-forms="proper, decimal"><var>PRETTY_NUMER/PRETTY_DENOM</var></p>

                <div class="hints">
                    <p>
                        One way to solve this problem is to figure out how many ways you can get exactly <var>NUM</var> <var>NAME</var>, then
                        divide this by the total number of outcomes you could have gotten. Since every outcome has equal probability, this will be the probability that you will get exactly 
                        <var>NUM</var> <var>NAME</var>. 
                    </p>
                    <p>
                        How many outcomes are there where you get exactly <var>NUM</var> <var>NAME</var>? Try thinking of each outcome as 
                        a length <var>COINS</var> word, where the 1st letter is "H" if the first coin toss was heads and "T" if it was tails,
                        and so on.
                    </p>
                    <p>
                        So, the number of outcomes with exactly <var>NUM</var> <var>NAME</var> is the same as the number of these words which have
                        <var>NUM</var> <var>IS_H ? "H's" : "T's"</var> and <var>COINS-NUM</var> <var>IS_H ? "T's" : "H's"</var>.
                    </p>
                    <p>
                        How many of these are there? If we follow the technique we used to figure out the number of permutations of words,
                        we'll find that there are <code><var>COINS</var>!</code> different arrangements, overcounting <code><var>NUM</var>!</code>
                        times for every time we only switch the <var>IS_H ? "H's" : "T's"</var> around, and <code><var>COINS-NUM</var>!</code>
                        times for every time we only switch the <var>IS_H ? "T's" : "H's"</var> around. For an example of this overcounting,
                        <code>H\blue{T}H\orange{T}\green{T}H</code> is the same as
                        <code>H\orange{T}H\blue{T}\green{T}H</code>, and
                        <code>H\orange{T}H\green{T}\blue{T}H</code>, and so on, even though saying there are <code><var>COINS</var>!</code> treats
                        the different-colored T's as different.
                    </p>
                    <p>
                        So, there are <code>\frac{<var>COINS</var>!}{<var>NUM</var>!<var>COINS-NUM</var>!} = <var>NUM_RIGHT</var></code> different 
                        outcomes where you get exactly <var>NUM</var> <var>NAME</var>. How many different outcomes are there?
                    </p>
                    <p>
                        Well, if you only flip one coin, there are two outcomes, if you flip two there are four outcomes, if you flip three there
                        are eight...
                    </p>
                    <p>
                        Altogether, there are <code>2^<var>COINS</var> = <var>NUM_ALL</var></code> total possible outcomes.
                    </p>
                    <p>
                        So, the probability that you will get exactly <var>NUM</var> <var>NAME</var> is
                        <code>\frac{<var>NUM_RIGHT</var>}{<var>NUM_ALL</var>} = \frac{<var>PRETTY_NUMER</var>}{<var>PRETTY_DENOM</var>}</code>.
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
